%!PS-Adobe-3.0
%%Title: (TUM logos)
%%Creator: (Marek Kubica <marek@xivilization.net>)
%%EndComments

% the color (RGB) of the lines
/TumLightColor [ 0 122 195 ] def
% divide each color by 255, since PS uses floats to represent colors
/LineColor { TumLightColor { 255 div } forall } def
/Radius 54 def

% small helper function (the name is from Factor)
/. { pstack } def

% ( radius hole-center hole-degrees -- )
/noncompletecircle
 { %def
	% divide hole-degrees by two
	2 div
	% x, y coordinates
 	0 0
	% radius
 	4 index
	% get the starting angle
	4 index
        dup
	5 index add
	exch
	% stop angle
        360 add 5 index sub 
        arc stroke
	% remove 3 dangling elements
	3 npop
} def

% (radius -- )
/completecircle
 { %def
	0 0 noncompletecircle
 } def

% removes a number of items from the stack
% ( n -- )
/npop
 {
	{ pop } repeat
 } def

/in-logo
 { %def
	% circle, radius 54, hole on top (90°), 15° hole
	Radius 90 15 noncompletecircle
	% move down a bit
	0 -45 moveto
	% draw the line straight up
	0 60 lineto
	% draw the path
	stroke
 } def

% (radius angle) -- (x y)
/anglecoords
 { %def
	% put args in an array
	2 array astore
	% duplicate array
	dup
	% unpack the topmost one
	aload pop
	% calculate x
	cos mul
	% the other array
	exch
	% unpack
	aload pop
	% calculate y
	sin mul
	% done
 } def

/ar-logo
 { %def
	% radius 54, no hole actually
	Radius completecircle
	% go to left, lower end of 'A'
	Radius 230 anglecoords moveto
	% draw to top of 'A'
	Radius 90 anglecoords lineto
	% draw to lower right end of 'A'
	Radius 310 anglecoords lineto
	stroke
	% draw the bar through the A shape
	Radius 200 anglecoords moveto
	Radius 340 anglecoords lineto
	stroke
 } def

/edu-logo 
 { %def
	% draw the upper arc
	0 0 Radius 352 165 arc
	Radius 352 anglecoords moveto
	% draw the lower bar, relative to the current point
	-60 0 rlineto stroke
	
	% draw the lower arc
	0 0 Radius 172 345 arc
	Radius 172 anglecoords moveto
	% draw the lower bar & stroke path
	60 0 rlineto stroke
 } def

/wi-logo
 { %def
	% draw surrounding circle with the hole
	Radius 33 115 noncompletecircle
	% move to angle 200 and a bit outside the circle
	Radius 10 add 200 anglecoords moveto
	% draw the three line segments
	40 35 rlineto
	20 -15 rlineto
	55 50 rlineto
	% stroke the path
	stroke
 } def

/ma-logo
 { %def
	Radius completecircle
	% triangle, start with top
	Radius 90 anglecoords moveto
	Radius 330 anglecoords lineto
	Radius 210 anglecoords lineto
	Radius 90 anglecoords lineto
	% now back at top, continue with hexagon
	Radius 30 anglecoords lineto
	Radius 330 anglecoords lineto
	Radius 270 anglecoords lineto
	Radius 210 anglecoords lineto
	Radius 150 anglecoords lineto
	Radius 90 anglecoords lineto
	% back at top, stroke path
	stroke
 } def

/ph-logo
 { %def
	% gsave, grestore have to be symmetric, 
	% grestore 2 times in a row does not work
	% draw the surrounding circle
	Radius completecircle
	% save the scale and rotation
	gsave
		% draw vertical orbital
	        0.33 1 scale
		Radius completecircle
	grestore
	% draw the topleft-bottomright orbital
	gsave
		60 rotate
		0.33 1 scale
		Radius completecircle
        grestore
	% draw the bottomleft-topright orbital
	gsave
		-60 rotate
		0.33 1 scale
		Radius completecircle
        grestore
 } def

/bv-logo
 { %def
	% draw the circle and the straight line
	Radius completecircle
	Radius 170 anglecoords moveto
	Radius 10 anglecoords lineto
	stroke
	% draw the lower arc, scaled to be 200% width
	gsave
		1 0.50 scale
		% x-offset y-offset radius start-angle stop-angle
		0 -70 Radius 20 add 45 135 arc stroke
	grestore
 } def

/sp-logo
 { %def
	 Radius 5 sub 330 170 noncompletecircle
	 % lower semicircle with line
	 0 0 Radius 270 330 arc stroke
	 Radius 270 anglecoords moveto
	 -70 0 rlineto stroke
	 % upper semicircle with line
	 0 0 Radius 90 170 arc stroke
	 Radius 90 anglecoords moveto
	 60 0 rlineto stroke
 } def

/ch-logo
 { %def
	 Radius 90 24 noncompletecircle
	 % right part
	 Radius 78 anglecoords moveto
	 -3 -7 rlineto
	 0 -20 rlineto
	 Radius 315 anglecoords lineto
	 stroke
	 % left part
	 Radius 102 anglecoords moveto
	 3 -7 rlineto
	 0 -20 rlineto
	 Radius 225 anglecoords lineto
	 stroke
 } def

% set the color of the strokes
LineColor setrgbcolor

% transform the coordinates
300 500 translate
% draw the logo by calling the desired function
% (happens in subfiles now)
